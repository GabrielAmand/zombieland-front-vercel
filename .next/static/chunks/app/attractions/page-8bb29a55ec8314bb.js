(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[831],{2383:(e,t,r)=>{"use strict";r.d(t,{e:()=>s});var a=r(9509);function s(){if(!a.env.NEXT_PUBLIC_API_URL)throw Error("NEXT_PUBLIC_API_URL n'est pas d\xe9finie.");return a.env.NEXT_PUBLIC_API_URL}},2651:(e,t,r)=>{Promise.resolve().then(r.bind(r,8386))},7924:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},8386:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var a=r(5155),s=r(7924),l=r(6766),c=r(6874),n=r.n(c),o=r(2115),i=r(2383);function d(){let[e,t]=(0,o.useState)(""),[r,c]=(0,o.useState)(""),[d,u]=(0,o.useState)([]),[m,h]=(0,o.useState)([]),[p,x]=(0,o.useState)(4);(0,o.useEffect)(()=>{!async function(){try{let e=await fetch("".concat((0,i.e)(),"/attractions")),t=await e.json();if(e.ok)h(t.allAttractions);else throw Error("L'appel \xe0 l'API a \xe9chou\xe9, veuillez r\xe9essayer...")}catch(e){console.log(e)}}()},[]),(0,o.useEffect)(()=>{!async function(){try{let e=await fetch("".concat((0,i.e)(),"/categories")),t=await e.json();if(e.ok)u(t.categories);else throw Error("L'appel \xe0 l'API a \xe9chou\xe9, veuillez r\xe9essayer...")}catch(e){console.log(e)}}()},[]);let f=m.filter(t=>{let a=t.name.toLowerCase().includes(e.toLowerCase()),s=!r||t.categories.some(e=>e.name===r);return a&&s}),w=f.slice(0,p),g=p<f.length;return(0,a.jsxs)("div",{className:"px-4 py-6 max-w-6xl mx-auto",children:[(0,a.jsx)("h2",{className:"text-center text-3xl sm:text-5xl font-subtitle uppercase text-primary mb-8",children:"Les attractions"}),(0,a.jsxs)("div",{className:"flex flex-col gap-3 mb-6 sm:flex-row sm:items-center",children:[(0,a.jsxs)("label",{className:"relative w-full",children:[(0,a.jsx)(s.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted size-5"}),(0,a.jsx)("input",{type:"search",placeholder:"Rechercher...",value:e,onChange:e=>t(e.target.value),className:"w-full pl-10 pr-4 py-2 rounded-md bg-surface text-text border border-muted focus:outline-none"})]}),(0,a.jsxs)("select",{value:r,onChange:e=>c(e.target.value),className:"w-full sm:w-1/2 px-3 py-2 rounded-md bg-surface text-text border border-muted",children:[(0,a.jsx)("option",{value:"",children:"Cat\xe9gories"}),d.map(e=>(0,a.jsx)("option",{value:e.name,children:e.name},e.id))]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[w.map(e=>(0,a.jsx)(n(),{href:"/attractions/".concat(e.slug),className:"block",children:(0,a.jsxs)("article",{className:"aspect-video relative overflow-hidden rounded-lg border-2 border-primary",children:[(0,a.jsx)(l.default,{src:"/images/desktop/".concat(e.id,".webp"),alt:e.name,fill:!0,className:"object-cover",sizes:"(max-width:640px)100vw,(max-width:1024px)50vw,33vw"}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-end p-4 bg-gradient-to-t from-black/70 to-transparent",children:(0,a.jsx)("h3",{className:"text-white text-xl font-title",children:e.name})})]})},e.id)),0===f.length&&(0,a.jsx)("p",{className:"text-center col-span-full text-muted",children:"Aucune attraction ne correspond \xe0 votre recherche."})]}),g&&(0,a.jsx)("div",{className:"text-center mt-6",children:(0,a.jsx)("button",{type:"button",onClick:()=>x(e=>e+4),className:"bg-primary text-bg px-6 py-2 rounded-lg font-bold hover:bg-primary-dark",children:"En voir plus"})})]})}},9946:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var a=r(2115);let s=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:i="",children:d,iconNode:u,...m}=e;return(0,a.createElement)("svg",{ref:t,...c,width:s,height:s,stroke:r,strokeWidth:o?24*Number(n)/Number(s):n,className:l("lucide",i),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"},...m},[...u.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),o=(e,t)=>{let r=(0,a.forwardRef)((r,c)=>{let{className:o,...i}=r;return(0,a.createElement)(n,{ref:c,iconNode:t,className:l("lucide-".concat(s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),o),...i})});return r.displayName=s(e),r}}},e=>{e.O(0,[874,766,441,964,358],()=>e(e.s=2651)),_N_E=e.O()}]);