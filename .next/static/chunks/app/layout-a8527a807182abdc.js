(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{347:()=>{},4416:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(9946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},4831:(e,t,r)=>{"use strict";r.d(t,{W:()=>c,x:()=>o});var n=r(5155),i=r(7383),l=r(2115),s=r(9509);let a=(0,l.createContext)({token:null,setToken:()=>{},user:null,loading:!0}),o=e=>{let{children:t}=e,[r,o]=(0,l.useState)(()=>i.A.get("zombieland_token")||null),[c,u]=(0,l.useState)(null),[d,m]=(0,l.useState)(!0);return(0,l.useEffect)(()=>{(async()=>{if(!r){u(null),m(!1);return}try{let e=await fetch("".concat(s.env.NEXT_PUBLIC_API_URL,"/auth/verify"),{headers:{Authorization:"Bearer ".concat(r)},credentials:"include"});if(e.ok){let t=await e.json();u(t.user)}else i.A.remove("zombieland_token"),o(null),u(null)}catch(e){console.error("Erreur lors du check token :",e),i.A.remove("zombieland_token"),o(null),u(null)}finally{m(!1)}})()},[r]),(0,n.jsx)(a.Provider,{value:{token:r,setToken:e=>{e?(i.A.set("zombieland_token",e,{expires:1,secure:!0,sameSite:"strict"}),o(e)):(i.A.remove("zombieland_token"),o(null),u(null))},user:c,loading:d},children:t})},c=()=>(0,l.useContext)(a)},5695:(e,t,r)=>{"use strict";var n=r(8999);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},7383:(e,t,r)=>{"use strict";function n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}r.d(t,{A:()=>i});var i=function e(t,r){function i(e,i,l){if("undefined"!=typeof document){"number"==typeof(l=n({},r,l)).expires&&(l.expires=new Date(Date.now()+864e5*l.expires)),l.expires&&(l.expires=l.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var a in l)l[a]&&(s+="; "+a,!0!==l[a]&&(s+="="+l[a].split(";")[0]));return document.cookie=e+"="+t.write(i,e)+s}}return Object.create({set:i,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],n={},i=0;i<r.length;i++){var l=r[i].split("="),s=l.slice(1).join("=");try{var a=decodeURIComponent(l[0]);if(n[a]=t.read(s,a),e===a)break}catch(e){}}return e?n[e]:n}},remove:function(e,t){i(e,"",n({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,n({},this.attributes,t))},withConverter:function(t){return e(n({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})},8113:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6874,23)),Promise.resolve().then(r.t.bind(r,347,23)),Promise.resolve().then(r.bind(r,8812)),Promise.resolve().then(r.bind(r,9959)),Promise.resolve().then(r.bind(r,8581))},8581:(e,t,r)=>{"use strict";r.d(t,{Providers:()=>l});var n=r(5155),i=r(4831);function l(e){let{children:t}=e;return(0,n.jsx)(i.x,{children:t})}},8812:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var n=r(5155);let i=(0,r(9946).A)("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]);var l=r(4416),s=r(6874),a=r.n(s),o=r(2115),c=r(9959);function u(e){let{links:t}=e,[r,s]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{document.body.style.overflow=r?"hidden":""},[r]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex items-center gap-3 lg:hidden",children:[(0,n.jsx)("div",{className:"hidden sm:block",children:(0,n.jsx)(c.default,{})}),(0,n.jsx)("button",{type:"button","aria-label":"Ouvrir le menu",onClick:()=>s(!0),className:"rounded p-2  active:bg-primary/40 ",children:(0,n.jsx)(i,{className:"h-7 w-7 text-primary"})})]}),r&&(0,n.jsxs)("div",{className:"fixed inset-0 z-50 flex flex-col bg-bg/95 px-6 py-8 text-xl font-subtitle uppercase backdrop-blur",children:[(0,n.jsx)("button",{type:"button","aria-label":"Fermer le menu",onClick:()=>s(!1),className:"self-end rounded p-2 transition",children:(0,n.jsx)(l.A,{className:"h-7 w-7 text-primary  active:bg-primary/40"})}),(0,n.jsxs)("ul",{className:"mt-8 flex flex-grow flex-col gap-6",children:[t.map(e=>{let{href:t,label:r}=e;return(0,n.jsx)("li",{children:(0,n.jsx)(a(),{href:t,onClick:()=>s(!1),className:"block py-2 transition-colors text-primary-light hover:text-primary",children:r})},t)}),(0,n.jsx)("li",{className:"block sm:hidden",children:(0,n.jsx)(c.default,{})})]})]})]})}},9946:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(2115);let i=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let a=(0,n.forwardRef)((e,t)=>{let{color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:c="",children:u,iconNode:d,...m}=e;return(0,n.createElement)("svg",{ref:t,...s,width:i,height:i,stroke:r,strokeWidth:o?24*Number(a)/Number(i):a,className:l("lucide",c),...!u&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"},...m},[...d.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),o=(e,t)=>{let r=(0,n.forwardRef)((r,s)=>{let{className:o,...c}=r;return(0,n.createElement)(a,{ref:s,iconNode:t,className:l("lucide-".concat(i(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),o),...c})});return r.displayName=i(e),r}},9959:(e,t,r)=>{"use strict";r.d(t,{default:()=>m});var n=r(5155),i=r(7383);let l=(0,r(9946).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var s=r(4416),a=r(6874),o=r.n(a),c=r(5695),u=r(2115),d=r(4831);function m(){let[e,t]=(0,u.useState)(!1);(0,u.useEffect)(()=>{document.body.style.overflow=e?"hidden":""},[e]);let{user:r,token:a,setToken:m}=(0,d.W)(),h=(0,c.useRouter)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{type:"button","aria-label":"Profil",onClick:()=>t(!0),className:"rounded-full p-2 text-primary  active:bg-primary/40 ",children:(0,n.jsx)(l,{className:"h-6 w-6"})}),e&&(0,n.jsxs)("div",{className:"fixed inset-0 z-50 flex flex-col bg-bg/95 backdrop-blur px-6 py-8 text-xl font-subtitle uppercase",children:[(0,n.jsx)("button",{type:"button","aria-label":"Fermer",onClick:()=>t(!1),className:"self-end rounded p-2 text-primary  active:bg-primary/40",children:(0,n.jsx)(s.A,{className:"h-7 w-7"})}),a?(0,n.jsxs)("ul",{className:"mt-8 flex flex-grow flex-col gap-6",children:[(0,n.jsx)("li",{children:(0,n.jsx)(o(),{href:"/profil",onClick:()=>t(!1),className:"flex items-center gap-3 py-2 text-primary-light transition-colors hover:text-primary",children:"Mon profil"})}),(0,n.jsx)("li",{children:(0,n.jsx)(o(),{href:"/mes-reservations",onClick:()=>t(!1),className:"flex items-center gap-3 py-2 text-primary-light transition-colors hover:text-primary",children:"Mes r\xe9servations"})}),(null==r?void 0:r.admin)&&(0,n.jsx)("li",{children:(0,n.jsx)(o(),{href:"/admin",onClick:()=>t(!1),className:"flex items-center gap-3 py-2 text-red-500 font-bold transition-colors hover:text-red-700",children:"Espace Admin"})}),(0,n.jsx)("li",{children:(0,n.jsx)("button",{type:"button",onClick:()=>{i.A.remove("zombieland_token"),m(null),t(!1),h.push("/")},className:"flex items-center gap-3 py-2 text-primary-light transition-colors hover:text-primary",children:"D\xe9connexion"})})]}):(0,n.jsxs)("ul",{className:"mt-8 flex flex-grow flex-col gap-6",children:[(0,n.jsx)("li",{children:(0,n.jsx)(o(),{href:"/connexion",onClick:()=>t(!1),className:"flex items-center gap-3 py-2 text-primary-light transition-colors hover:text-primary",children:"Connexion"})}),(0,n.jsx)("li",{children:(0,n.jsx)(o(),{href:"/inscription",onClick:()=>t(!1),className:"flex items-center gap-3 py-2 text-primary-light transition-colors hover:text-primary",children:"Inscription"})})]})]})]})}}},e=>{e.O(0,[690,874,441,964,358],()=>e(e.s=8113)),_N_E=e.O()}]);